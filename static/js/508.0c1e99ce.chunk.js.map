{"version":3,"file":"static/js/508.0c1e99ce.chunk.js","mappings":"iTAUe,SAASA,KAExBC,EAAAA,EAAAA,YAAU,WACRC,GACD,GAAC,IAKF,OAAsCC,EAAAA,EAAAA,YAAWC,EAAAA,GAA5CC,EAAL,EAAKA,YAAYC,EAAjB,EAAiBA,kBATkB,8CAWnC,WAA6BC,EAAGC,GAAhC,4FACuBH,EAAYE,EAAGC,GADtC,OAEyB,OADnBC,EADN,QAEcC,QACVC,EAAAA,GAAAA,QAAA,2CAAyD,CAAEC,SAAU,IAAMC,SAAU,aAAaC,UAAW,sCAC7GR,EAAkBG,EAASM,KAAKC,UAAUC,SAE1CN,EAAAA,GAAAA,MAAA,0BAAsC,CAAEC,SAAU,IAAMC,SAAU,aAAaC,UAAW,qCAN9F,4CAXmC,oEAsBnC,WAA+BC,GAA/B,sEAGEb,EAFWa,EAAKG,SAAS,GAD3B,4CAtBmC,sBA4BnC,OAAgCC,EAAAA,EAAAA,UAAS,MAAzC,eAAOnB,EAAP,KAAiBoB,EAAjB,KA5BmC,SA6BpBlB,EA7BoB,gFA6BnC,WAA2BmB,GAA3B,8FACqBC,IAAAA,IAAA,gEAAmED,IAAQE,OAAM,SAACC,GAAD,OAASA,CAAT,IADtG,gBACOT,EADP,EACOA,KACLK,EAAYL,GAFd,4CA7BmC,sBAmCjC,OAAO,iCACO,SAAC,IAAD,WACR,0CAELf,GAAa,iBAAKc,UAAU,+BAAf,WACd,iBAAKA,UAAU,eAAf,WACA,eAAIA,UAAU,0DAAd,yBACF,SAAC,IAAD,KACI,eAAIA,UAAU,0DAAd,sBACDd,EAASyB,OAAOC,KAAI,SAACC,GAAD,OAAW,gBAAsBb,UAAU,qBAAhC,UAChC,iBAAKA,UAAU,MAAf,WACU,SAAC,KAAD,CAAMc,GAAE,0BAAqBD,EAAQpB,IAArC,UACN,4BACM,gBAAKO,UAAU,kBAAkBe,IAAKF,EAAQG,MAAOC,OAAQ,IAAKC,MAAO,IAAMC,IAAI,MACnF,eAAInB,UAAU,0CAAd,SAAyDa,EAAQO,KAAKC,MAAM,KAAKC,MAAM,EAAE,GAAGC,KAAK,QACjG,kBAAMvB,UAAU,oBAAhB,UAAqCa,EAAQW,oBAAmB,gBAAKxB,UAAU,QAAf,iBAA+B,4BAAK,iBAAKA,UAAU,kBAAf,UAAkCa,EAAQY,QAAQZ,EAAQW,mBAAmBX,EAAQY,MAAM,KAA3F,OAAL,gBAG7F,mBAAQC,QAAS,kBArDI,6CAqDAC,CAAcd,EAAQpB,GAAGoB,EAAQe,YAArC,EAAmD5B,UAAU,oCAA9E,8BAT8Ba,EAAQpB,GAA7B,QAcvB,SAAC,IAAD,CACQoC,cAAc,aACdC,UAAU,SACVC,UAAW7C,EAAS8C,MACpBC,aA9D2B,4CA+D3BC,sBAAuB,KACvBC,mBAAmB,oCACnBC,cAAc,aACdC,kBAAkB,aAClBC,kBAAkB,YAClBC,sBAAsB,aACtBC,cAAc,YACdC,kBAAkB,aAClBC,gBAAgB,eAEd,SAAC,IAAD,MAGT,C","sources":["component/Products/Products.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { cartContext } from '../../Context/CartContext';\r\nimport { toast } from 'react-hot-toast';\r\nimport Loading from '../Loading/Loading';\r\nimport Categories from '../Categories/Categories';\r\nimport { Helmet } from 'react-helmet';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nexport default function Products() {\r\n\r\nuseEffect(()=>{\r\n  getProducts()\r\n},[])\r\n\r\n\r\n\r\n\r\nlet {AddUserCart,setNumOfCartItems} = useContext(cartContext)\r\n\r\nasync function setToUserCart(id,rate){\r\n  let response = await AddUserCart(id,rate)\r\n  if(response.status === 200){\r\n    toast.success(`The product has been added to your Cart `,{ duration: 3000, position: 'top-center',className: 'bg-success text-white text-center'})\r\n    setNumOfCartItems(response.data.cartItems.length)\r\n  }else{\r\n    toast.error(`You must Sign in First `,{ duration: 3000, position: 'top-center',className: 'bg-danger text-white text-center'})\r\n  }\r\n\r\n}\r\n\r\nasync function handlePageClick(data){\r\n  let page = data.selected+1\r\n\r\n  getProducts(page)\r\n}\r\n\r\nconst [Products, setProducts] = useState(null)\r\nasync function getProducts(page){\r\n  let {data} = await axios.get(`https://coffee-2pwn.onrender.com/api/v1/products?page=${page}`).catch((error)=>error)\r\n  setProducts(data)\r\n\r\n  }\r\n\r\n  return <>\r\n                <Helmet>\r\n        <title>Products</title>\r\n        </Helmet>\r\n  {Products ?   <div className=\"container-fluid container-lg\">\r\n  <div className=\"row my-5 g-3\">\r\n  <h2 className='display-5 text-main text-center fw-bold lh-1 mt-5 brand'>Categories</h2>\r\n<Categories/>\r\n    <h2 className='display-5 text-main text-center fw-bold lh-1 mt-5 brand'>Products</h2>\r\n  {Products.result.map((product)=><div key={product.id} className=' col-lg-4 col-md-6'>\r\n  <div className=\"box\">\r\n            <Link to={`/productDetails/${product.id}`}>\r\n      <div>\r\n            <img className=' rounded-circle' src={product.image} height={100} width={100}  alt=\"\" />\r\n            <h4 className='text-main fw-bold text-center mt-2 mb-0'>{product.name.split(\" \").slice(0,2).join(\" \")}</h4>\r\n            <span className='fs-3 text-success'>{product.priceAfterDiscount}<sup className='fs-6 '>LE</sup><sub><del className=\"text-danger h6 \">{product.price!==product.priceAfterDiscount?product.price:null} </del> </sub></span>\r\n    </div>\r\n          </Link>\r\n              <button onClick={()=>setToUserCart(product.id,product.ratingCount)} className='btn w-100 bg-main text-white mb-1'> ADD To Cart</button>\r\n          </div>\r\n  </div>)}\r\n  </div>\r\n\r\n<ReactPaginate\r\n        previousLabel=\"< previous\"\r\n        nextLabel=\"next >\"\r\n        pageCount={Products.pages}\r\n        onPageChange={handlePageClick}\r\n        renderOnZeroPageCount={null}\r\n        containerClassName='pagination justify-content-center'\r\n        pageClassName='page-item '\r\n        pageLinkClassName='page-link '\r\n        previousClassName='page-item'\r\n        previousLinkClassName='page-link '\r\n        nextClassName='page-item'\r\n        nextLinkClassName='page-link '\r\n        activeClassName='active'\r\n      />\r\n  </div>: <Loading/>}\r\n\r\n  </>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["Products","useEffect","getProducts","useContext","cartContext","AddUserCart","setNumOfCartItems","id","rate","response","status","toast","duration","position","className","data","cartItems","length","selected","useState","setProducts","page","axios","catch","error","result","map","product","to","src","image","height","width","alt","name","split","slice","join","priceAfterDiscount","price","onClick","setToUserCart","ratingCount","previousLabel","nextLabel","pageCount","pages","onPageChange","renderOnZeroPageCount","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","activeClassName"],"sourceRoot":""}