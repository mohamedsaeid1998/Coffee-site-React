"use strict";(self.webpackChunkcafenaboard=self.webpackChunkcafenaboard||[]).push([[508],{6508:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var s=n(4165),a=n(885),r=n(5861),c=n(2791),i=n(4569),l=n.n(i),o=n(1087),u=n(3926),d=n(3402),p=n(361),m=n(7285),h=n(4270),x=n(6048),f=n.n(x),g=n(184);function j(){(0,c.useEffect)((function(){v()}),[]);var e=(0,c.useContext)(u.o),t=e.AddUserCart,n=e.setNumOfCartItems;function i(){return(i=(0,r.Z)((0,s.Z)().mark((function e(a,r){var c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a,r);case 2:200===(c=e.sent).status?(d.Am.success("The product has been added to your Cart ",{duration:3e3,position:"top-center",className:"bg-success text-white text-center"}),n(c.data.cartItems.length)):d.Am.error("You must Sign in First ",{duration:3e3,position:"top-center",className:"bg-danger text-white text-center"});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t.selected+1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=(0,c.useState)(null),N=(0,a.Z)(j,2),b=N[0],C=N[1];function v(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("https://coffee-2pwn.onrender.com/api/v1/products?page=".concat(t)).catch((function(e){return e}));case 2:n=e.sent,a=n.data,C(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.q,{children:(0,g.jsx)("title",{children:"Products"})}),b?(0,g.jsxs)("div",{className:"container-fluid container-lg",children:[(0,g.jsxs)("div",{className:"row my-5 g-3",children:[(0,g.jsx)("h2",{className:"display-5 text-main text-center fw-bold lh-1 mt-5 brand",children:"Categories"}),(0,g.jsx)(m.Z,{}),(0,g.jsx)("h2",{className:"display-5 text-main text-center fw-bold lh-1 mt-5 brand",children:"Products"}),b.result.map((function(e){return(0,g.jsx)("div",{className:" col-lg-4 col-md-6",children:(0,g.jsxs)("div",{className:"box",children:[(0,g.jsx)(o.rU,{to:"/productDetails/".concat(e.id),children:(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{className:" rounded-circle",src:e.image,height:100,width:100,alt:""}),(0,g.jsx)("h4",{className:"text-main fw-bold text-center mt-2 mb-0",children:e.name.split(" ").slice(0,2).join(" ")}),(0,g.jsxs)("span",{className:"fs-3 text-success",children:[e.priceAfterDiscount,(0,g.jsx)("sup",{className:"fs-6 ",children:"LE"}),(0,g.jsxs)("sub",{children:[(0,g.jsxs)("del",{className:"text-danger h6 ",children:[e.price!==e.priceAfterDiscount?e.price:null," "]})," "]})]})]})}),(0,g.jsx)("button",{onClick:function(){return function(e,t){return i.apply(this,arguments)}(e.id,e.ratingCount)},className:"btn w-100 bg-main text-white mb-1",children:" ADD To Cart"})]})},e.id)}))]}),(0,g.jsx)(f(),{previousLabel:"< previous",nextLabel:"next >",pageCount:b.pages,onPageChange:function(e){return x.apply(this,arguments)},renderOnZeroPageCount:null,containerClassName:"pagination justify-content-center",pageClassName:"page-item ",pageLinkClassName:"page-link ",previousClassName:"page-item",previousLinkClassName:"page-link ",nextClassName:"page-item",nextLinkClassName:"page-link ",activeClassName:"active"})]}):(0,g.jsx)(p.Z,{})]})}}}]);
//# sourceMappingURL=508.0c1e99ce.chunk.js.map